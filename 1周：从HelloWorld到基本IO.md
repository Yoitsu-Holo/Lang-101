# 人生的第一个程序

当你们拿到一本讲解编程语言的书，那么绝大多数情况看到的都将是一份名叫 **“Hello World!”** 的代码

这简短的代码既是一切痛苦的万恶之源，又是你走向一个崭新世界的第一步

通常对于C++来说，它长下面这个样子：

```cpp
#include <iostream>
using namespace std;
int main()
{
    cout << "Hello World!" << endl;   //注意，这里使用的是C++的输出
    return 0;
}
/*
第一个程序——HelloWorld
*/
```

又或者我们推荐的写法：
```cpp
#include <cstdio>
using namespace std;
int main()
{
    printf("HelloWorld");   //注意，这里使用的是C的输出
    return 0;
}
/*
第一个程序——HelloWorld
*/
```

> 如果你学过一点C、C++的语法
> 那么你可能觉得我们推荐的这个写法有点奇怪
> 首先，printf 是一个 C 的输出函数
> 其次，printf 的命名空间并不在 std 命名空间中
> 这里这样做的原因其实是：
> 1. cout 会存在缓冲区问题，这将导致输入输出变慢（可以关闭流同步）
> 2. 并且格式控制并没有直接传统 C 来的方便（C++的一次失败得尝试）

# 头文件

我们自上而下阅读，第一行出现的内容是：**#include\<cstdio\>**
我们将这一行的功能叫做引用（包含）库

前面也说了，编译器的工作就如同一个翻译器，其是将我们的代码翻译成机器能够执行的语言，那么一行就相当于我们调用了一个字典

在编译的过程中，编译器会去查询这个字典中的内容，使代码能顺利翻译成机器能看得懂的语句

如果你的代码中没有包含必要的库，那么编译器就会在这个翻译的过程中由于不知道如何翻译而罢工，也就是我们常说的报错

这一行再次细分，我们可以的到三个结构，分别是：#include，<……>和cstdio

其中，#include表示预编译指令中的包含库文件指令

<……>中应当包含一个库文件，其还能够用双引号（””）来表示，这两种包含方式有细微区别，但是这里不做过多讲解（现阶段来说，你们用不上）

cstdio表示这一个全称叫做standard buffered input and output的库
由名字可知，这是一个基础的输入输出库，其提供了基础的在终端上输出字符和读入字符的方式（函数），当然，helloworld中只用到了输出

# 命名空间

这一句表示我们在整个代码（全局）范围内，使用了一个叫做“std”的名称空间。在C++中，所有的函数都被写在这么一个名称空间中

其就像“张三”这个名字，我们可以指定是罗老师口中的张三，或者是小区中的某个实实在在存在的张三

那么我们“using namespace 罗翔;“那么在此后代码中出现的张三，我们都一律认为是罗老师口中的张三，而不是你小区中的那个张三

当然代码中也可以使用“名称空间::函数名称“的形式来表示一个特定名称空间的函数

例如下面的代码也是可以正常运行的

```cpp
#include <iostream>
int main()
{
    std::cout << "Hello World!" << std::endl;
    return 0;
}
```

# 万恶之源 main 函数

第三行就是整个程序最最重要的部分了——main函数

```cpp
int main()
{
	...;
}
```

不是mian函数！不是mian函数！不是mian函数！
否则你将喜提如下报错
![[int mian.png]]

如果你编译报错且没找到哪里有问题，请一定看看是不是打成了mian

由名称可知，这是一个主要的函数，在程序中我们称为主函数

C/C++中，一切的代码都是从这里开始逐行执行，其函数返回值必须是一个整数类型，且非特殊情况，返回值必须为0（通常程序正常结束返回0，如果是其他值，那么有可能是遇到了错误）

你可能在一些教材上见过 **void main()** 这种写法，请记住，这种写法已经被除名，现在main函数必须要返回值，否则编译将报错

# 真正的核心

```cpp
printf("HelloWorld");   
```

这一句才是我们整个代码的核心语句，它实现了向控制台窗口上输出一句话：
HelloWorld

也是我们这第一个程序真正实现的东西

# 程序返回

```cpp
return 0;
```

往往意味着一个程序在这里将走向结束，将控制权重新交还给调用它的程序，并且通过这个返回值来告知调用它的程序它的状态，如果程序正常结束，那么通常是返回0（这里与你在主函数中写的返回值）

如果发生异常，那么会返回其他数值来告诉调用它的函数它发生的异常类型（通常是一个不可阅读的值）

# 注释

注释，顾名思义，就是对当前代码内容的一个解释
在C/C++中，其包含两种表示方式：

一种是两个连续的斜杠，表示在这一行之后（包含自身）的内容全部注释

第二种是/\* ...... \*/结构，表示从 “/\*”，一直到“\*/”（包含自身）中间的部分全部是注释内容

可以思考一下下列代码的注释部分：

```cpp
/*
---A---
/*
---B---
*/
---C---
*/
```
（为了防止你们通过代码高亮看出来，格式改成了txt）

# 语句结束

在上述代码中，除了由#开头的**编译预处理指令**和**主函数名称**后面，其他每一句最后都加上了一个分号“;”作为每一个逻辑语句的结尾

它就表示着一个语句的结束， 就像平时我们语文中说完一句话加上个句号， C语言中说完一句话后面加上个分号

比如 printf("hello,world\n"); 说完一句话加上个分号告诉计算机你说完这句话了

经典笑话：无鸡鸭亦可无鱼肉亦可青菜一碟足矣
A：无鸡鸭亦可，无鱼肉亦可，青菜一碟足矣。
B：无鸡，鸭亦可，无鱼，肉亦可，青菜一碟，足矣。

你都分不清楚，更别说计算机了

# 程序的基本结构

请记住，在以后的程序设计中，如果你是使用的C++，那么你的程序应该是这样：

```cpp
#include <header> //可以有很多
using namespace std;
int main()
{
    //你的代码
    return 0;
}
```

如果是C，那么应该是这样：

```c
#include <header.h> //可以有很多
int main()
{
    //你的代码
    return 0;
}
```

虽然我们希望你能使用C++风格的代码模板，但是却并不能完全禁止你使用这种方式来做题，不过在不久的将来，你会意识到C++相对于C的强大之处

> 为什么说C++比C强大，主要是考虑到大家目前的学习内容而言，你不会进行太多的计算机底层操作，反而会想要更多的系统标准库能提供的功能。与此对应的，如果你开始写一个属于自己的操作系统，那么你一定会和计算机的底层开始打交道，这时你会发现C这种语言会更加的灵活

# 基本输出

程序想要在显示器上读取和输出东西，就必须拥有一套能够链接系统表层和程序底层的桥梁，这个桥梁就被我们称为程序的输入输出

上面的 HelloWorld 就是一个典型的输出案例

那么我们除了可以原封不动地输出一个句子，那么是否可以输出一个数字呢？

当然可以！

C++ 标准库提供了一组广泛的的输入/输出功能，但是我们在这里仅仅对于如何读取终端中的内容和如何在终端中输出我们想要的内容讨论，而不对文件等操作做讲解

在了解最基本的C++语法和逻辑后，大家可以非常轻松的自行学习这些内容

## 变量

要输出一个数据，那么就必须要有一个东西来存储它（计算机是很笨的，你要让他输出一个东西，必须告诉它这个东西在哪里，这个数据长啥样，要怎么输出）

于是我们就自然而然引出变量这个概念：

一个可以**存放东西**的**东西**，在计算机世界中，我们就成为变量
![[MC Chest.png]]

由于这是时候课程的专题内容，所以我们只是简单的一笔带过，目前我们只需要知道一下这一句话：
```cpp
int a;
```
是定义了一个名字叫做a，并且可以存放整数的变量

类似的：你可以使用一下两种方式定义两个整数变量a，b
```cpp
int a, b;
```
```cpp
int a;
int b;
```

有了变量，我们就可以做一些运算，比如：

```cpp
int a, b, c;
a = 114000;
b = 514;
c = a + b;
```
那么结果上述运算之后，你就可以得到变量 **c** 的值为 **114514**

# 输出

在上面的Hello World讲解中，我们其实已经使用到了基本输出语句：printf

其全称为print format，表示在终端中以我们规定的某种格式进行输出

我们可以使用printf这个函数输出任何你想输出的东西，包括但不限于字符，数字，变量

比如下列代码可以让你的电脑蜂鸣器响一下（或者是喇叭）
```cpp
#include <cstdio>
using namespace std;
int main()
{
	printf("\a");
	return 0;
}
```

上面也说了，**某种格式进行输出**，我们具体来讨论这种格式是什么

首先应该明确，我们任何一个输出的语句，本质都是一个由字符构成的序列，我们将这个序列称为字符串

在C/C++中，我们用单引号来表示一个字符，用双引号来表示一个字符串（当然也可以包含只包含一个字符甚至没有字符）

所以，我们printf的输出核心部分一定是用双引号包裹起来的

而printf会原封不动的输出我们双引号内部的所有内容，除非遇到%或者\

> 详细可以 man 3 printf 查看手册（当然，是在Linux环境下）

刚刚我们正好学习了定义一个整数变量，那么我们就可以使用 printf 来对其进行输出

```cpp
#include <cstdio>
using namespace std;
int main()
{
	int a=114514;
	printf("%d", a);
	return 0;
}
```

编译运行得到：114514
![[print 114514.png]]
（这里后面有百分号的原因是结尾没有换行，Linux中会输出一个这样的字符提示）

类似的，我们呢也可以一次性输出多个变量

```cpp
#include <cstdio>
using namespace std;
int main()
{
	int a, b;
	a=10;
	b=2;
	printf("%d %d", a, b);
	return 0;
}
```
![[print 10 2.png]]

同样，你也可以使用\\n来进行换行操作
```cpp
#include <cstdio>
using namespace std;
int main()
{
    int a = 114514; //这里定义了一个变量，其存贮的值是114514
    printf("This is first line\nThis is called a line break.");
    printf("The previous line of output is not yet a newline\n");
    printf("Here the numbers in our variables will be output:%d", a);
    return 0;
}
```

执行上诉代码，可以十分清楚的看到，在一个换行符之后的内容全部出现在了新的一行，而一个printf语句执行完之后，并没有自动换行。

三句 printf 语句的效果相当于如下一句 printf 语句：
printf("This is first line==\\n==This is called a line break.The previous line of output is not yet a newline==\\n==Here the numbers in our variables will be output:%d", a);

我们使用%d的地方被自动填入了一个数字，即我们之前定义的变量a的值

# 输入

在C/C++中，scanf是基本输入语句，与printf相似，其全称是scan format，表示按照格式扫描终端内容。

通常，scanf中的内容也是由一个字符串构成，其内部通常只含有由%+特定符号构成的格式限定符。

例如，我要读取两个整数，其后面字符串中应该填写的是“%d%d”，来表示读取两个整数，通常，这些读取的内容要以空格分隔开，代码如下:

```cpp
#include <cstdio>
using namespace std;
int main()
{
    int a, b;
    scanf("%d%d", &a, &b);
    return 0;
}
```

> 详细可以 man scanf 查看手册（当然，是在Linux环境下）

细心的同学会发现，与输出不同，输入的时候，我们填写变量名称前面还有一个&符号

这个符号表示取这个变量在内存中的地址，而在读入时，我们必须传入这个变量的地址，程序才能将这个值正确的给到这个变量

这一部分涉及到C/C++内部的指针部分，对于初学的大家来说过于深奥，故不做过多讲解，需要记忆一下，如果感兴趣，可以自行查阅相关资料

## I&O

有了输入和输出，我们就已经掌握了与计算机交流的途径，现在你离写成一个完整的大型程序只有更多的语法知识了

不过就目前的知识而言，稍微多查一些资料，你们依然可以写出一些小程序

例如一个加法计算器：
```cpp
#include <cstdio>
using namespace std;
int main()
{
    int a, b, c;                     //定义三个变量
    scanf("%d%d", &a, &b);           //读入两个数，分别存在 a 和 b
    c = a + b;                       //计算 a+b 的值，将结果存于 c
    printf("%d + %d = %d", a, b, c); //输出
    return 0;
}
```

# 小结

本次课程由Hello World作为起点，讲解了一个传统的 C/C++ 代码的结构

并且讲解了一个最简单的算法程序——求和程序的构成：
输入，数据处理，输出

```mermaid
flowchart TD
	subgraph 流程:
		数据输入 --> 数据处理 --> 结果输出
	end
	subgraph 代码:
		输入a,b --> c=a+b --> 输出c
	end		
```

同样，最复杂的程序也不过如此：输入，数据处理，输出

就像你玩的游戏，你通过鼠标和键盘将操作输入
经过游戏内部你永远不会知道的"屎山代码"处理
在电脑的显示器上显示游戏实时画面

代码的世界，就是这么简单